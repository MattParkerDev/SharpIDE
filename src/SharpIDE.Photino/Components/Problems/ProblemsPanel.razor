@using SharpIDE.Application.Features.SolutionDiscovery
@using SharpIDE.Application.Features.SolutionDiscovery.VsPersistence

<MudStack Style="height: 100%">
	<MudTreeView T="string" Dense="true" ExpandOnClick="true">
		@foreach (var project in SolutionModel.AllProjects)
		{
			<ProjectProblemComponent ProjectModel="@project" SelectedFile="@SelectedFile" SelectedFileChanged="@SelectedFileChanged"/>
		}
	</MudTreeView>
</MudStack>

@code {
	[Parameter, EditorRequired]
	public SharpIdeSolutionModel SolutionModel { get; set; } = null!;

	[Parameter, EditorRequired]
	public SharpIdeFile SelectedFile { get; set; } = null!;

	[Parameter]
	public EventCallback<SharpIdeFile> SelectedFileChanged { get; set; }
}
